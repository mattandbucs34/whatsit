
> whatsit@1.0.0 test C:\Users\matta\Documents\Projects\whatsit
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Users/matta/Documents/Projects/whatsit[39m

[90mstdout[2m | spec/integration/static.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/favorites.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/topics.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/users.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/flairs.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/advert.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/votes.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

[90mstdout[2m | spec/integration/comments.spec.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
--- DB INIT ---
ENV: test
CONFIG: {
  "use_env_variable": "DATABASE_URL_TEST",
  "dialect": "postgres",
  "logging": false
}
VAR_NAME: DATABASE_URL_TEST
VAR_VALUE_EXISTS: [33mtrue[39m
VAR_VALUE_START: postgres:/

 [32mâœ“[39m spec/integration/static.spec.js [2m([22m[2m2 tests[22m[2m)[22m[32m 259[2mms[22m[39m
[90mstdout[2m | spec/integration/users.spec.js[2m > [22m[2mroutes : users[2m > [22m[2mGET /users/sign_up[2m > [22m[2mshould render a view with a sign up form
[22m[39mError: 
    at Query.run [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\postgres\query.js:50:25[90m)[39m
    at [90mC:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:315:28
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at PostgresQueryInterface.createTable [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\abstract\query-interface.js:98:12[90m)[39m
    at Function.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\model.js:942:7[90m)[39m
    at Sequelize.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:377:9[90m)[39m
    at C:/Users/matta/Documents/Projects/whatsit/spec/integration/users.spec.js:11:13 {
  name: [32m'SequelizeUniqueConstraintError'[39m,
  errors: [
    ValidationErrorItem {
      message: [32m'relname must be unique'[39m,
      type: [32m'unique violation'[39m,
      path: [32m'relname'[39m,
      value: [32m'Flairs_id_seq'[39m,
      origin: [32m'DB'[39m,
      instance: [1mnull[22m,
      validatorKey: [32m'not_unique'[39m,
      validatorName: [1mnull[22m,
      validatorArgs: []
    },
    ValidationErrorItem {
      message: [32m'relnamespace must be unique'[39m,
      type: [32m'unique violation'[39m,
      path: [32m'relnamespace'[39m,
      value: [32m'2200'[39m,
      origin: [32m'DB'[39m,
      instance: [1mnull[22m,
      validatorKey: [32m'not_unique'[39m,
      validatorName: [1mnull[22m,
      validatorArgs: []
    }
  ],
  parent: error: duplicate key value violates unique constraint "pg_class_relname_nsp_index"
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m256[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'23505'[39m,
    detail: [32m'Key (relname, relnamespace)=(Flairs_id_seq, 2200) already exists.'[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [32m'pg_catalog'[39m,
    table: [32m'pg_class'[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [32m'pg_class_relname_nsp_index'[39m,
    file: [32m'nbtinsert.c'[39m,
    line: [32m'671'[39m,
    routine: [32m'_bt_check_unique'[39m,
    sql: [32m'CREATE TABLE IF NOT EXISTS "Flairs" ("id"   SERIAL , "name" VARCHAR(255), "color" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
    parameters: [90mundefined[39m
  },
  original: error: duplicate key value violates unique constraint "pg_class_relname_nsp_index"
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m256[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'23505'[39m,
    detail: [32m'Key (relname, relnamespace)=(Flairs_id_seq, 2200) already exists.'[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [32m'pg_catalog'[39m,
    table: [32m'pg_class'[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [32m'pg_class_relname_nsp_index'[39m,
    file: [32m'nbtinsert.c'[39m,
    line: [32m'671'[39m,
    routine: [32m'_bt_check_unique'[39m,
    sql: [32m'CREATE TABLE IF NOT EXISTS "Flairs" ("id"   SERIAL , "name" VARCHAR(255), "color" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
    parameters: [90mundefined[39m
  },
  fields: { relname: [32m'Flairs_id_seq'[39m, relnamespace: [32m'2200'[39m },
  sql: [32m'CREATE TABLE IF NOT EXISTS "Flairs" ("id"   SERIAL , "name" VARCHAR(255), "color" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m
}

[90mstdout[2m | spec/integration/users.spec.js[2m > [22m[2mroutes : users[2m > [22m[2mPOST /users[2m > [22m[2mshould create a new user with valid values and redirect
[22m[39mError: 
    at Query.run [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\postgres\query.js:50:25[90m)[39m
    at [90mC:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:315:28
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at PostgresQueryInterface.createTable [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\abstract\query-interface.js:98:12[90m)[39m
    at Function.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\model.js:942:7[90m)[39m
    at Sequelize.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:377:9[90m)[39m
    at C:/Users/matta/Documents/Projects/whatsit/spec/integration/users.spec.js:11:13 {
  name: [32m'SequelizeUniqueConstraintError'[39m,
  errors: [
    ValidationErrorItem {
      message: [32m'relname must be unique'[39m,
      type: [32m'unique violation'[39m,
      path: [32m'relname'[39m,
      value: [32m'Flairs_id_seq'[39m,
      origin: [32m'DB'[39m,
      instance: [1mnull[22m,
      validatorKey: [32m'not_unique'[39m,
      validatorName: [1mnull[22m,
      validatorArgs: []
    },
    ValidationErrorItem {
      message: [32m'relnamespace must be unique'[39m,
      type: [32m'unique violation'[39m,
      path: [32m'relnamespace'[39m,
      value: [32m'2200'[39m,
      origin: [32m'DB'[39m,
      instance: [1mnull[22m,
      validatorKey: [32m'not_unique'[39m,
      validatorName: [1mnull[22m,
      validatorArgs: []
    }
  ],
  parent: error: duplicate key value violates unique constraint "pg_class_relname_nsp_index"
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m256[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'23505'[39m,
    detail: [32m'Key (relname, relnamespace)=(Flairs_id_seq, 2200) already exists.'[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [32m'pg_catalog'[39m,
    table: [32m'pg_class'[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [32m'pg_class_relname_nsp_index'[39m,
    file: [32m'nbtinsert.c'[39m,
    line: [32m'671'[39m,
    routine: [32m'_bt_check_unique'[39m,
    sql: [32m'CREATE TABLE IF NOT EXISTS "Flairs" ("id"   SERIAL , "name" VARCHAR(255), "color" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
    parameters: [90mundefined[39m
  },
  original: error: duplicate key value violates unique constraint "pg_class_relname_nsp_index"
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m256[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'23505'[39m,
    detail: [32m'Key (relname, relnamespace)=(Flairs_id_seq, 2200) already exists.'[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [32m'pg_catalog'[39m,
    table: [32m'pg_class'[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [32m'pg_class_relname_nsp_index'[39m,
    file: [32m'nbtinsert.c'[39m,
    line: [32m'671'[39m,
    routine: [32m'_bt_check_unique'[39m,
    sql: [32m'CREATE TABLE IF NOT EXISTS "Flairs" ("id"   SERIAL , "name" VARCHAR(255), "color" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
    parameters: [90mundefined[39m
  },
  fields: { relname: [32m'Flairs_id_seq'[39m, relnamespace: [32m'2200'[39m },
  sql: [32m'CREATE TABLE IF NOT EXISTS "Flairs" ("id"   SERIAL , "name" VARCHAR(255), "color" VARCHAR(255), "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m
}

 [31mâ¯[39m spec/integration/favorites.spec.js [2m([22m[2m4 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 506[2mms[22m[39m
[31m         [31mÃ—[31m should not create a new favorite[39m[32m 280[2mms[22m[39m
[31m         [31mÃ—[31m should create a favorite[39m[32m 68[2mms[22m[39m
[31m         [31mÃ—[31m should destroy a favorite[39m[32m 74[2mms[22m[39m
[31m         [31mÃ—[31m should not destroy a favorite[39m[32m 82[2mms[22m[39m
 [31mâ¯[39m spec/integration/comments.spec.js [2m([22m[2m6 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[33m 677[2mms[22m[39m
[31m         [31mÃ—[31m should not create a new comment[39m[32m 273[2mms[22m[39m
[31m         [31mÃ—[31m should not delete the comment with the associated ID[39m[32m 83[2mms[22m[39m
[31m         [31mÃ—[31m should create a new comment and redirect[39m[32m 89[2mms[22m[39m
[31m         [31mÃ—[31m should delete the comment with the associated ID[39m[32m 82[2mms[22m[39m
[31m         [31mÃ—[31m should not delete the comment with the associated user ID[39m[32m 88[2mms[22m[39m
[31m       [31mÃ—[31m should delete the comment from a user via admin validation[39m[32m 59[2mms[22m[39m
 [31mâ¯[39m spec/integration/flairs.spec.js [2m([22m[2m7 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[33m 689[2mms[22m[39m
[31m       [31mÃ—[31m should return a status code of 200 and all flairs[39m[32m 272[2mms[22m[39m
[31m       [31mÃ—[31m should render a new flair form[39m[32m 69[2mms[22m[39m
[31m       [31mÃ—[31m should create a new flair and redirect[39m[32m 74[2mms[22m[39m
[31m       [31mÃ—[31m should render a view with the selected flair[39m[32m 82[2mms[22m[39m
[31m       [31mÃ—[31m should delete the flair with the associated name[39m[32m 71[2mms[22m[39m
[31m       [31mÃ—[31m should with a form to edit a flair[39m[32m 45[2mms[22m[39m
[31m       [31mÃ—[31m should update the flair with the given information[39m[32m 74[2mms[22m[39m
 [31mâ¯[39m spec/integration/advert.spec.js [2m([22m[2m7 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[33m 711[2mms[22m[39m
[31m       [31mÃ—[31m should return a status of 200 and all adverts[39m[32m 292[2mms[22m[39m
[31m       [31mÃ—[31m should render a new advertisement form[39m[32m 56[2mms[22m[39m
[31m       [31mÃ—[31m should create a new advertisement and redirect[39m[32m 73[2mms[22m[39m
[31m       [31mÃ—[31m should render a view with the selected advertisement[39m[32m 82[2mms[22m[39m
[31m       [31mÃ—[31m should delete the advertisement with the associated ID[39m[32m 67[2mms[22m[39m
[31m       [31mÃ—[31m should render a view with an edit advertisement form[39m[32m 76[2mms[22m[39m
[31m       [31mÃ—[31m should update the advertisement with given values[39m[32m 62[2mms[22m[39m
(node:4824) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
[90mstdout[2m | spec/integration/users.spec.js[2m > [22m[2mroutes : users[2m > [22m[2mPOST /users[2m > [22m[2mshould not create a new user with invalid attributes and redirect
[22m[39mError: 
    at Query.run [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\postgres\query.js:50:25[90m)[39m
    at [90mC:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:315:28
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at async Promise.all (index 0)
    at Sequelize.drop [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:443:7[90m)[39m
    at Sequelize.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:366:7[90m)[39m
    at C:/Users/matta/Documents/Projects/whatsit/spec/integration/users.spec.js:11:13 {
  name: [32m'SequelizeUnknownConstraintError'[39m,
  parent: error: constraint "Topics_flairId_fkey" of relation "Topics" does not exist
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m138[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'42704'[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [32m'tablecmds.c'[39m,
    line: [32m'12030'[39m,
    routine: [32m'ATExecDropConstraint'[39m,
    sql: [32m'ALTER TABLE "Topics" DROP CONSTRAINT "Topics_flairId_fkey"'[39m,
    parameters: [90mundefined[39m
  },
  original: error: constraint "Topics_flairId_fkey" of relation "Topics" does not exist
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m138[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'42704'[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [32m'tablecmds.c'[39m,
    line: [32m'12030'[39m,
    routine: [32m'ATExecDropConstraint'[39m,
    sql: [32m'ALTER TABLE "Topics" DROP CONSTRAINT "Topics_flairId_fkey"'[39m,
    parameters: [90mundefined[39m
  },
  sql: [32m'ALTER TABLE "Topics" DROP CONSTRAINT "Topics_flairId_fkey"'[39m,
  parameters: {},
  constraint: [32m'Topics_flairId_fkey'[39m,
  fields: [90mundefined[39m,
  table: [32m'Topics'[39m
}

 [31mâ¯[39m spec/integration/votes.spec.js [2m([22m[2m8 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[33m 917[2mms[22m[39m
[31m         [31mÃ—[31m should not create a new vote[39m[32m 273[2mms[22m[39m
[31m         [31mÃ—[31m should create an upvote[39m[32m 67[2mms[22m[39m
[31m         [31mÃ—[31m should not create an upvote if value is incorrect[39m[32m 93[2mms[22m[39m
[31m         [31mÃ—[31m should not create a second upvote[39m[32m 82[2mms[22m[39m
[31m         [31mÃ—[31m should not create a second upvote[39m[32m 69[2mms[22m[39m
[31m       [31mÃ—[31m should create an downvote[39m[32m 69[2mms[22m[39m
[31m       [31mÃ—[31m should not create an upvote if value is incorrect[39m[32m 122[2mms[22m[39m
[31m       [31mÃ—[31m should update upvote to downvote for signed in user[39m[32m 140[2mms[22m[39m
[90mstdout[2m | spec/integration/users.spec.js[2m > [22m[2mroutes : users[2m > [22m[2mGET /users/sign_in[2m > [22m[2mshould render a view with a sign in form
[22m[39mError: 
    at Query.run [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\postgres\query.js:50:25[90m)[39m
    at [90mC:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:315:28
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at PostgresQueryInterface.createTable [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\dialects\abstract\query-interface.js:98:12[90m)[39m
    at Function.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\model.js:942:7[90m)[39m
    at Sequelize.sync [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3\node_modules\[4msequelize[24m\lib\sequelize.js:377:9[90m)[39m
    at C:/Users/matta/Documents/Projects/whatsit/spec/integration/users.spec.js:11:13 {
  name: [32m'SequelizeDatabaseError'[39m,
  parent: error: relation "Users" does not exist
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m103[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'42P01'[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [32m'namespace.c'[39m,
    line: [32m'436'[39m,
    routine: [32m'RangeVarGetRelidExtended'[39m,
    sql: [32m'CREATE TABLE IF NOT EXISTS "Comments" ("id"   SERIAL , "body" VARCHAR(255) NOT NULL, "postId" INTEGER NOT NULL REFERENCES "Posts" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "userId" INTEGER NOT NULL REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
    parameters: [90mundefined[39m
  },
  original: error: relation "Users" does not exist
      at Parser.parseErrorMessage [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:285:98[90m)[39m
      at Parser.handlePacket [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:122:29[90m)[39m
      at Parser.parse [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\parser.js:35:38[90m)[39m
      at Socket.<anonymous> [90m(C:\Users\matta\Documents\Projects\whatsit\[39mnode_modules\[4m.pnpm[24m\pg-protocol@1.10.3\node_modules\[4mpg-protocol[24m\dist\index.js:11:42[90m)[39m
  [90m    at Socket.emit (node:events:518:28)[39m
  [90m    at addChunk (node:internal/streams/readable:561:12)[39m
  [90m    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)[39m
  [90m    at Socket.Readable.push (node:internal/streams/readable:392:5)[39m
  [90m    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)[39m {
    length: [33m103[39m,
    severity: [32m'ERROR'[39m,
    code: [32m'42P01'[39m,
    detail: [90mundefined[39m,
    hint: [90mundefined[39m,
    position: [90mundefined[39m,
    internalPosition: [90mundefined[39m,
    internalQuery: [90mundefined[39m,
    where: [90mundefined[39m,
    schema: [90mundefined[39m,
    table: [90mundefined[39m,
    column: [90mundefined[39m,
    dataType: [90mundefined[39m,
    constraint: [90mundefined[39m,
    file: [32m'namespace.c'[39m,
    line: [32m'436'[39m,
    routine: [32m'RangeVarGetRelidExtended'[39m,
    sql: [32m'CREATE TABLE IF NOT EXISTS "Comments" ("id"   SERIAL , "body" VARCHAR(255) NOT NULL, "postId" INTEGER NOT NULL REFERENCES "Posts" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "userId" INTEGER NOT NULL REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
    parameters: [90mundefined[39m
  },
  sql: [32m'CREATE TABLE IF NOT EXISTS "Comments" ("id"   SERIAL , "body" VARCHAR(255) NOT NULL, "postId" INTEGER NOT NULL REFERENCES "Posts" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "userId" INTEGER NOT NULL REFERENCES "Users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL, "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));'[39m,
  parameters: {}
}

 [31mâ¯[39m spec/integration/users.spec.js [2m([22m[2m5 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 1079[2mms[22m[39m
       [33m[2mâœ“[22m[39m should render a view with a sign up form [33m 362[2mms[22m[39m
[31m       [31mÃ—[31m should create a new user with valid values and redirect[39m[33m 490[2mms[22m[39m
[31m       [31mÃ—[31m should not create a new user with invalid attributes and redirect[39m[32m 63[2mms[22m[39m
       [32mâœ“[39m should render a view with a sign in form[32m 160[2mms[22m[39m
[31m     [31mÃ—[31m should present a list of comments and posts a user has created[39m[32m 2[2mms[22m[39m
(node:43704) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
 [31mâ¯[39m spec/integration/topics.spec.js [2m([22m[2m17 tests[22m[2m | [22m[31m9 failed[39m[2m)[22m[33m 2181[2mms[22m[39m
[31m         [31mÃ—[31m should return a status code 200 and all topics[39m[32m 276[2mms[22m[39m
[31m         [31mÃ—[31m should render a new topic form[39m[32m 65[2mms[22m[39m
[31m         [31mÃ—[31m should create a new topic and redirect[39m[32m 74[2mms[22m[39m
[31m         [31mÃ—[31m should render a view with the selected topic[39m[32m 87[2mms[22m[39m
[31m         [31mÃ—[31m should delete the topic with the associated ID[39m[32m 61[2mms[22m[39m
[31m         [31mÃ—[31m should render a view with an edit topic form[39m[32m 67[2mms[22m[39m
[31m         [31mÃ—[31m should update the topic with the given values[39m[32m 87[2mms[22m[39m
[31m         [31mÃ—[31m should not create a new topic that fails validations[39m[32m 129[2mms[22m[39m
[31m         [31mÃ—[31m should not create a new topic that fails validations[39m[32m 127[2mms[22m[39m
         [32mâœ“[39m should not create a new topic that fails validations[32m 180[2mms[22m[39m
         [32mâœ“[39m should return a status code 200 and all topics[32m 166[2mms[22m[39m
         [32mâœ“[39m should not render a new topic form and redirect to /topics[32m 139[2mms[22m[39m
         [32mâœ“[39m should not create a new topic[32m 133[2mms[22m[39m
         [32mâœ“[39m should render a view with the selected topic[32m 155[2mms[22m[39m
         [32mâœ“[39m should not delete the topic with the associated ID[32m 140[2mms[22m[39m
         [32mâœ“[39m should not render a view with an edit topic form[32m 161[2mms[22m[39m
         [32mâœ“[39m should not update the topic with the given values[32m 132[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Suites 1 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m spec/integration/posts.spec.js[2m [ spec/integration/posts.spec.js ][22m
[31m[1mError[22m: Cannot find package 'request' imported from 'C:/Users/matta/Documents/Projects/whatsit/spec/integration/posts.spec.js'[39m
[36m [2mâ¯[22m spec/integration/posts.spec.js:[2m1:1[22m[39m
    [90m  1| [39m[35mimport[39m { [35mget[39m[33m,[39m post [35mas[39m _post } [35mfrom[39m [32m"request"[39m[33m;[39m
    [90m   | [39m[31m^[39m
    [90m  2| [39m[35mconst[39m base [33m=[39m [32m"http://localhost:3000/topics"[39m[33m;[39m
    [90m  3| [39m[35mimport[39m { sequelize } [35mfrom[39m [32m"../../src/db/models/index"[39m[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/45]âŽ¯[22m[39m


[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 44 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mGET /adverts[2m > [22mshould return a status of 200 and all adverts
[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mGET /adverts/new[2m > [22mshould render a new advertisement form
[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mPOST /adverts/create[2m > [22mshould create a new advertisement and redirect
[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mGET /adverts/:id[2m > [22mshould render a view with the selected advertisement
[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mPOST /adverts/:id/destroy[2m > [22mshould delete the advertisement with the associated ID
[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mGET /adverts/:id/edit[2m > [22mshould render a view with an edit advertisement form
[41m[1m FAIL [22m[49m spec/integration/advert.spec.js[2m > [22mroutes : adverts[2m > [22mPOST /adverts/:id/update[2m > [22mshould update the advertisement with given values
[31m[1mSequelizeDatabaseError[22m: relation "Flairs" does not exist[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.createTable node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m98:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m942:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/advert.spec.js:[2m11:5[22m[39m
    [90m  9| [39m
    [90m 10| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 11| [39m    [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m    [31m^[39m
    [90m 12| [39m    advert [33m=[39m [35mawait[39m [33mAdvert[39m[33m.[39m[34mcreate[39m({
    [90m 13| [39m      title[33m:[39m [32m"Advertising at its Finest"[39m[33m,[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/comments.spec.js[2m > [22mroutes : comments[2m > [22mguest attempting to perform CRUD operations for Comment[2m > [22mPOST /topics/:topicId/posts/:postId/comments/create[2m > [22mshould not create a new comment
[41m[1m FAIL [22m[49m spec/integration/comments.spec.js[2m > [22mroutes : comments[2m > [22mguest attempting to perform CRUD operations for Comment[2m > [22mPOST /topics/:topicId/posts/:postId/comments/:id/destroy[2m > [22mshould not delete the comment with the associated ID
[41m[1m FAIL [22m[49m spec/integration/comments.spec.js[2m > [22mroutes : comments[2m > [22msigned in user performing CRUD operations for Comment[2m > [22mPOST /topics/:topicId/posts/:postId/comments/destroy[2m > [22mshould delete the comment with the associated ID
[41m[1m FAIL [22m[49m spec/integration/comments.spec.js[2m > [22mroutes : comments[2m > [22madmin attempting to delete a user Comment[2m > [22mshould delete the comment from a user via admin validation
[31m[1mSequelizeUniqueConstraintError[22m: Validation error[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.createTable node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m98:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m942:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/comments.spec.js:[2m15:9[22m[39m
    [90m 13| [39m    [35mlet[39m comment[33m;[39m
    [90m 14| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 15| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 16| [39m
    [90m 17| [39m        user [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/comments.spec.js[2m > [22mroutes : comments[2m > [22msigned in user performing CRUD operations for Comment[2m > [22mPOST /topics/:topicId/posts/:postId/comments/create[2m > [22mshould create a new comment and redirect
[31m[1mSequelizeDatabaseError[22m: could not open relation with OID 573176[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.showIndex node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m254:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m988:29[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/comments.spec.js:[2m15:9[22m[39m
    [90m 13| [39m    [35mlet[39m comment[33m;[39m
    [90m 14| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 15| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 16| [39m
    [90m 17| [39m        user [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/comments.spec.js[2m > [22mroutes : comments[2m > [22mmember attempting to perform CRUD operations for Comment by other user[2m > [22mPOST /topics/:topicId/posts/:postId/comments/destroy[2m > [22mshould not delete the comment with the associated user ID
[31m[1mTypeError[22m: Cannot read properties of null (reading '1')[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m97:86[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:16[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.showIndex node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m254:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m988:29[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/comments.spec.js:[2m15:9[22m[39m
    [90m 13| [39m    [35mlet[39m comment[33m;[39m
    [90m 14| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 15| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 16| [39m
    [90m 17| [39m        user [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/favorites.spec.js[2m > [22mroutes : favorites[2m > [22mguest attempting to favorite a post[2m > [22mPOST /topics/:topicId/posts/:postId/favorites/create[2m > [22mshould not create a new favorite
[41m[1m FAIL [22m[49m spec/integration/favorites.spec.js[2m > [22mroutes : favorites[2m > [22msigned in user favoriting a post[2m > [22mPOST /topics/:topicId/posts/:postId/favorites/create[2m > [22mshould create a favorite
[41m[1m FAIL [22m[49m spec/integration/favorites.spec.js[2m > [22mroutes : favorites[2m > [22msigned in user favoriting a post[2m > [22mPOST /topics/:topicId/posts/:postId/favorites/:id/destroy[2m > [22mshould destroy a favorite
[41m[1m FAIL [22m[49m spec/integration/favorites.spec.js[2m > [22mroutes : favorites[2m > [22mguest attempting to destroy a favorite[2m > [22mPOST /topics/:topicId/posts/:postId/favorites/:id/destroy[2m > [22mshould not destroy a favorite
[31m[1mSequelizeUniqueConstraintError[22m: Validation error[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.createTable node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m98:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m942:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/favorites.spec.js:[2m15:9[22m[39m
    [90m 13| [39m
    [90m 14| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 15| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 16| [39m        user [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({
    [90m 17| [39m            email[33m:[39m [32m"velma@mysterymachine.com"[39m[33m,[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mGET /flairs[2m > [22mshould return a status code of 200 and all flairs
[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mGET /flairs/new[2m > [22mshould render a new flair form
[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mPOST /flairs/create[2m > [22mshould create a new flair and redirect
[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mGET /flairs/:name[2m > [22mshould render a view with the selected flair
[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mPOST /flairs/:name/update[2m > [22mshould update the flair with the given information
[31m[1mSequelizeUniqueConstraintError[22m: Validation error[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.createTable node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m98:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m942:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/flairs.spec.js:[2m13:9[22m[39m
    [90m 11| [39m    [35mlet[39m flair[33m;[39m
    [90m 12| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 13| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 14| [39m        [35mtry[39m {
    [90m 15| [39m            flair [33m=[39m [35mawait[39m [33mFlair[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mPOST /flairs/:name/destroy[2m > [22mshould delete the flair with the associated name
[31m[1mSequelizeDatabaseError[22m: could not open relation with OID 573216[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.showIndex node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m254:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m988:29[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/flairs.spec.js:[2m13:9[22m[39m
    [90m 11| [39m    [35mlet[39m flair[33m;[39m
    [90m 12| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 13| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 14| [39m        [35mtry[39m {
    [90m 15| [39m            flair [33m=[39m [35mawait[39m [33mFlair[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/flairs.spec.js[2m > [22mroutes : flairs[2m > [22mGET /flairs/:name/edit[2m > [22mshould with a form to edit a flair
[31m[1mSequelizeUnknownConstraintError[22m: Unknown constraint error[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m Sequelize.drop node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m443:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m366:7[22m[39m
[36m [2mâ¯[22m spec/integration/flairs.spec.js:[2m13:9[22m[39m
    [90m 11| [39m    [35mlet[39m flair[33m;[39m
    [90m 12| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 13| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 14| [39m        [35mtry[39m {
    [90m 15| [39m            flair [33m=[39m [35mawait[39m [33mFlair[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mGET /topics[2m > [22mshould return a status code 200 and all topics
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mGET /topics/new[2m > [22mshould render a new topic form
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mPOST /topics/create[2m > [22mshould create a new topic and redirect
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mPOST /topics/:id/destroy[2m > [22mshould delete the topic with the associated ID
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mGET /topics/:id/edit[2m > [22mshould render a view with an edit topic form
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mPOST /topics/:id/update[2m > [22mshould update the topic with the given values
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mPOST /topics/:id/update[2m > [22mshould not create a new topic that fails validations
[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mPOST /topics/:id/update[2m > [22mshould not create a new topic that fails validations
[31m[1mSequelizeUniqueConstraintError[22m: Validation error[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.createTable node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m98:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m942:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/topics.spec.js:[2m15:9[22m[39m
    [90m 13| [39m
    [90m 14| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 15| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 16| [39m
    [90m 17| [39m        admin [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/topics.spec.js[2m > [22mroutes : topics[2m > [22madmin user performing CRUD actions for Topic[2m > [22mGET /topics/:id[2m > [22mshould render a view with the selected topic
[31m[1mSequelizeDatabaseError[22m: could not open relation with OID 573188[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.showIndex node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m254:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m988:29[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/topics.spec.js:[2m15:9[22m[39m
    [90m 13| [39m
    [90m 14| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 15| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 16| [39m
    [90m 17| [39m        admin [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/users.spec.js[2m > [22mroutes : users[2m > [22mPOST /users[2m > [22mshould create a new user with valid values and redirect
[31m[1mAssertionError[22m: expected null not to be null[39m
[36m [2mâ¯[22m spec/integration/users.spec.js:[2m45:33[22m[39m
    [90m 43| [39m
    [90m 44| [39m            [34mexpect[39m(res[33m.[39mstatusCode)[33m.[39m[34mtoBe[39m([34m303[39m)[33m;[39m
    [90m 45| [39m            [34mexpect[39m(newUser)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m 46| [39m            [34mexpect[39m(newUser[33m.[39memail)[33m.[39m[34mtoBe[39m([32m"user@example.com"[39m)[33m;[39m
    [90m 47| [39m            [34mexpect[39m(newUser[33m.[39mid)[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/users.spec.js[2m > [22mroutes : users[2m > [22mPOST /users[2m > [22mshould not create a new user with invalid attributes and redirect
[31m[1mSequelizeDatabaseError[22m: relation "Users" does not exist[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.select node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m407:12[22m[39m
[90m [2mâ¯[22m Function.findAll node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m1140:21[22m[39m
[90m [2mâ¯[22m Function.findOne node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m1240:12[22m[39m
[36m [2mâ¯[22m spec/integration/users.spec.js:[2m65:29[22m[39m
    [90m 63| [39m                [33m.[39m[34msend[39m(options[33m.[39mform)[33m;[39m
    [90m 64| [39m
    [90m 65| [39m            [35mconst[39m newUser [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mfindOne[39m({
    [90m   | [39m                            [31m^[39m
    [90m 66| [39m                where[33m:[39m { email[33m:[39m [32m"no"[39m }
    [90m 67| [39m            })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/users.spec.js[2m > [22mGET /users/:id[2m > [22mshould present a list of comments and posts a user has created
[31m[1mSequelizeDatabaseError[22m: relation "Users" does not exist[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.insert node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m308:21[22m[39m
[90m [2mâ¯[22m model.save node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m2490:35[22m[39m
[90m [2mâ¯[22m Function.create node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m1362:12[22m[39m
[36m [2mâ¯[22m spec/integration/users.spec.js:[2m92:16[22m[39m
    [90m 90| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 91| [39m
    [90m 92| [39m        user [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({
    [90m   | [39m               [31m^[39m
    [90m 93| [39m            email[33m:[39m [32m"velma@mysterymachine.com"[39m[33m,[39m
    [90m 94| [39m            password[33m:[39m [32m"jenkies"[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22mguest attempting to vote on a post[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote[2m > [22mshould not create a new vote
[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22msigned in user voting on a post[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote[2m > [22mshould create an upvote
[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22msigned in user voting on a post[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote[2m > [22mshould not create an upvote if value is incorrect
[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22msigned in user voting on a post[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote[2m > [22mshould not create a second upvote
[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22mGET /topics/:topicId/posts/:postId/votes/downvote[2m > [22mshould create an downvote
[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote[2m > [22mshould not create an upvote if value is incorrect
[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote||downvote[2m > [22mshould update upvote to downvote for signed in user
[31m[1mSequelizeUniqueConstraintError[22m: Validation error[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m50:25[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:28[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.createTable node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m98:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m942:7[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/votes.spec.js:[2m16:9[22m[39m
    [90m 14| [39m    [35mlet[39m vote[33m;[39m
    [90m 15| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 16| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 17| [39m
    [90m 18| [39m        member [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/45]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m spec/integration/votes.spec.js[2m > [22mroutes : votes[2m > [22msigned in user voting on a post[2m > [22mGET /topics/:topicId/posts/:postId/votes/upvote[2m > [22mshould not create a second upvote
[31m[1mTypeError[22m: Cannot read properties of null (reading '1')[39m
[90m [2mâ¯[22m Query.run node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/postgres/query.js:[2m97:86[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m315:16[22m[39m
[90m [2mâ¯[22m PostgresQueryInterface.showIndex node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/dialects/abstract/query-interface.js:[2m254:12[22m[39m
[90m [2mâ¯[22m Function.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/model.js:[2m988:29[22m[39m
[90m [2mâ¯[22m Sequelize.sync node_modules/.pnpm/sequelize@6.37.7_pg-hstore@2.3.4_pg@8.16.3/node_modules/sequelize/lib/sequelize.js:[2m377:9[22m[39m
[36m [2mâ¯[22m spec/integration/votes.spec.js:[2m16:9[22m[39m
    [90m 14| [39m    [35mlet[39m vote[33m;[39m
    [90m 15| [39m    [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 16| [39m        [35mawait[39m sequelize[33m.[39m[34msync[39m({ force[33m:[39m [35mtrue[39m })[33m;[39m
    [90m   | [39m        [31m^[39m
    [90m 17| [39m
    [90m 18| [39m        member [33m=[39m [35mawait[39m [33mUser[39m[33m.[39m[34mcreate[39m({

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/45]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m8 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (9)[39m
[2m      Tests [22m [1m[31m44 failed[39m[22m[2m | [22m[1m[32m12 passed[39m[22m[90m (56)[39m
[2m   Start at [22m 08:33:50
[2m   Duration [22m 19.16s[2m (transform 9.73s, setup 0ms, import 126.66s, tests 7.02s, environment 2ms)[22m

â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
